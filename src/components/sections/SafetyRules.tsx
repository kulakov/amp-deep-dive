import { useState } from "react";
const SafetyRules = () => {
  const [fixedStickers, setFixedStickers] = useState<Set<number>>(new Set());
  const rules = ["Включаете голову", "Участвуете только в том, в чем хотите", "Несете ответ\u00ADствен\u00ADность за свои действия", "Есть психолог, с которым можно поговорить", "Опираемся на критическое мышление"];
  const initialRotations = [-6, 4, -3, 5, -4];
  const handleStickerClick = (index: number) => {
    setFixedStickers(prev => new Set(prev).add(index));
  };
  return <section className="py-24 px-6 relative bg-callout">

      <div className="max-w-4xl mx-auto space-y-12">
        {/* Section Header */}
        <div className="text-center space-y-4">
          <span className="font-mono text-xs uppercase tracking-[0.3em] bg-highlight text-highlight-foreground px-3 py-1.5 inline-block">
            Техника безопасности
          </span>
          <p className="text-xl font-display italic text-foreground">
            Кэмп делается участниками для участников
          </p>
        </div>

        {/* Stickers Grid */}
        <div className="grid grid-cols-3 md:grid-cols-5 gap-4 md:gap-6 max-w-3xl mx-auto">
          {rules.map((rule, index) => <Sticker key={index} text={rule} initialRotation={initialRotations[index]} isFixed={fixedStickers.has(index)} onClick={() => handleStickerClick(index)} />)}
        </div>

        {/* Additional Info */}
        <div className="max-w-2xl mx-auto space-y-8 pt-8">
          <p className="text-center text-muted-foreground font-body text-lg leading-relaxed">
            Мы не знаем наверняка, как это делать правильно. У нас нет формулы дружбы или секрета общения. 
            Мы просто собираем людей и создаем форматы, которые помогают начать разговаривать искренне.
          </p>
        </div>

        {/* What we DON'T do */}
        <div className="max-w-2xl mx-auto pt-8">
          <h3 className="text-lg font-display text-foreground mb-6">Чего мы точно НЕ делаем:</h3>
          <div className="space-y-6 text-muted-foreground font-body">
            <div className="border-l-2 border-highlight pl-4">
              <p className="font-semibold text-foreground">Не заставляем участвовать</p>
              <p className="text-lg">можно не ходить на любое из мероприятий. можно уходить если вам не ок</p>
            </div>
            <div className="border-l-2 border-highlight pl-4">
              <p className="font-semibold text-foreground">Не продаем методики</p>
              <p className="text-lg">это не бизнес</p>
            </div>
            <div className="border-l-2 border-highlight pl-4">
              <p className="font-semibold text-foreground">Не обещаем решить ваши проблемы</p>
              <p className="text-lg">мы не психологи (почти все), и у нас тоже есть непрочитанные книжки по саморазвитию</p>
            </div>
          </div>
        </div>

        {/* How we change */}
        <div className="max-w-2xl mx-auto pt-8">
          <h3 className="text-lg font-display text-foreground mb-6">Как мы меняемся:</h3>
          <div className="space-y-4 text-muted-foreground font-body text-lg leading-relaxed">
            <p>
              После каждого кэмпа мы просим участников написать обратную связь. Любую: кому что понравилось, 
              кого что бесило, кто от чего устал. На основании этой обратной связи мы и создаем новые кэмпы.
            </p>
            <p>
              Каждый кэмп делает новая команда, чтобы организаторы отдохнули или вдруг не решили, что лучше 
              всех знают, как надо. Обычно команду набирают из тех, кто недавно был участником.
            </p>
          </div>
        </div>

        {/* What might not work - warning block */}
        <div className="max-w-2xl mx-auto mt-8 border border-muted-foreground/20 bg-muted/30 p-6 md:p-8">
          <h3 className="text-lg font-display font-bold text-foreground mb-4">Что может не сработать</h3>
          <div className="space-y-3 text-muted-foreground font-body text-lg leading-relaxed">
            <p>Любая активность может вам не зайти.</p>
            <p>Иногда в программу пролезают не слишком удачные форматы.</p>
            <p>Иногда мы перестраховываемся.</p>
            <p>Конкретные результаты для вас сильно зависят от того, насколько вы стараетесь что-то из кэмпа извлечь.</p>
          </div>
        </div>
      </div>
    </section>;
};
interface StickerProps {
  text: string;
  initialRotation: number;
  isFixed: boolean;
  onClick: () => void;
}
const Sticker = ({
  text,
  initialRotation,
  isFixed,
  onClick
}: StickerProps) => {
  return <div onClick={!isFixed ? onClick : undefined} className={`
        bg-highlight
        aspect-square 
        p-3
        shadow-lg 
        relative
        ${!isFixed ? "cursor-pointer hover:scale-105" : "cursor-default"}
        hover:shadow-xl
        transition-all
        duration-500
        ease-out
      `} style={{
    transform: isFixed ? "rotate(0deg)" : `rotate(${initialRotation}deg)`,
    boxShadow: isFixed ? "4px 4px 12px rgba(0,0,0,0.25)" : "2px 2px 8px rgba(0,0,0,0.15)"
  }}>
      {/* Tape effect at top */}
      <div className="absolute -top-1.5 left-1/2 -translate-x-1/2 w-6 h-3 bg-white/60 backdrop-blur-sm" />

      {/* Text */}
      <div className="h-full flex items-center justify-center">
        <p className="text-xs md:text-sm font-body text-center leading-snug text-highlight-foreground">
          {text}
        </p>
      </div>

      {/* Handwritten Checkmark */}
      <div className={`
          absolute bottom-2 right-2
          transition-all duration-500
          ${isFixed ? "opacity-100 scale-100" : "opacity-0 scale-0"}
        `} style={{
      transitionDelay: isFixed ? "200ms" : "0ms"
    }}>
        <svg width="14" height="20" viewBox="0 0 64 94" className="fill-highlight-foreground">
          <path d="M58.9647 0.122029C59.5066 0.0126221 60.4971 -0.142102 61.5155 0.26656C62.534 0.682427 62.9508 1.38336 63.0761 1.75777C63.2106 2.16177 63.163 2.41252 63.0985 2.61324C62.7794 3.35452 62.1422 3.57256 61.539 3.82418C60.9283 4.06979 60.2449 4.09353 59.6874 4.33394C59.5573 4.40663 59.4313 4.50607 59.4149 4.72066C59.3941 4.91613 59.5514 5.35151 60.1386 5.65523C60.7266 5.95261 61.3137 5.91238 61.5927 5.92379C61.8982 5.92512 62.0564 5.95145 62.1864 6.00582C62.2681 6.0398 62.3307 6.08422 62.3847 6.13375L62.6893 5.79879C62.8697 6.92055 62.9653 7.65443 62.702 8.34664C62.1106 9.88831 61.5613 12.0412 61.0321 14.1386C60.3801 16.7351 59.7261 19.3993 58.9579 22.0293C58.7741 22.6597 58.6039 23.2388 58.4149 23.873L58.4188 23.8564C58.0561 25.0857 57.6658 26.3673 57.2792 27.5937C57.2188 27.7855 57.1556 27.9853 57.0956 28.1738C56.9632 29.8318 56.7991 31.4936 56.5878 32.6269C56.4099 33.5745 56.0592 34.1811 55.7518 34.7236C55.5437 35.085 55.3585 35.4074 55.2724 35.7646C55.2263 35.9556 55.1711 36.2238 55.1063 36.541C54.8427 37.834 54.3909 40.0457 53.5282 41.9336C53.1472 42.7647 52.5912 43.713 52.0634 44.6084C51.3068 45.8953 50.6017 47.0931 50.5214 47.7744C50.3799 48.9736 49.8536 50.2458 49.3876 51.3701C48.9432 52.4419 48.5541 53.3799 48.6093 53.9912C48.6757 54.72 48.4128 55.2553 48.0243 56.0468C47.7556 56.5931 47.4238 57.2746 47.0995 58.2226C46.7225 59.3261 46.3254 60.0564 45.9833 60.6914C45.5042 61.5765 45.1435 62.2432 45.1366 63.3837C45.1283 64.6535 44.9871 65.9403 44.6093 66.8818C44.4391 67.3041 44.3057 67.8184 44.1688 68.3466C43.9898 69.0383 43.7952 69.7875 43.4911 70.415C43.242 70.9267 42.8614 71.3305 42.5311 71.665C42.4279 71.7704 42.3288 71.8709 42.2392 71.9697C42.1189 72.4053 41.9952 72.858 41.8798 73.292C41.8994 73.3734 41.9227 73.4594 41.9462 73.5488C42.0637 73.9989 42.2006 74.5761 42.1737 75.1982C42.1231 76.2103 41.752 76.9922 41.3583 77.8203C41.3154 77.91 41.2721 77.9999 41.2294 78.0898C40.9586 78.6758 40.7085 79.2412 40.5399 79.9668C40.4146 80.5132 40.3265 81.1965 40.245 81.8447C40.1178 82.8294 39.9867 83.7937 39.6864 84.4355C39.5781 84.6627 39.3557 84.8349 39.1356 84.999C39.1344 84.9996 39.133 85.0003 39.1317 85.0009C39.1168 85.012 39.1016 85.0231 39.0868 85.0341C38.6046 86.7329 38.5399 88.1543 36.9931 90.791C36.8519 91.0526 36.6735 91.3421 36.414 91.664C35.864 92.4054 34.3869 93.5704 32.5731 93.6894C30.8092 93.8047 29.8033 93.3199 29.1757 93.1338C27.6349 92.5913 26.2486 91.2505 25.247 90.2568C24.5612 89.571 23.9397 88.9198 23.3866 88.4306C23.3704 88.4161 23.3549 88.4009 23.3397 88.3857C23.0679 88.1212 22.965 87.7075 22.8856 87.3164C22.7995 86.9208 22.7117 86.5139 22.4393 86.1982C22.301 86.0375 22.1148 85.8925 21.9188 85.7412C21.7459 85.6073 21.5591 85.4606 21.3905 85.2929C21.2388 85.144 21.0276 84.685 20.7733 84.1191C20.6135 83.7656 20.4309 83.3617 20.2274 82.9521C19.4591 82.0237 18.6935 81.0845 17.9423 80.1484C17.6791 80.0205 17.4035 79.9518 17.1063 79.9453C16.8938 79.9412 16.6635 79.9712 16.4276 80.0009C16.1066 80.042 15.772 80.0807 15.4589 80.0429C15.2135 80.0125 15.0433 79.894 15.0341 79.7431C15.0299 79.673 15.0599 79.5966 15.0868 79.5273C15.1177 79.4478 15.1453 79.3767 15.1141 79.3339C15.0916 79.3033 15.0281 79.2986 14.9511 79.292C14.8277 79.2811 14.6685 79.2674 14.579 79.1435C14.2456 78.6809 13.9137 78.1186 13.5907 77.5693C13.2313 76.9581 12.8806 76.3599 12.5438 75.9238C12.1657 75.4341 11.8298 74.6002 11.495 73.7646C11.2618 73.1824 11.0283 72.5985 10.7811 72.1298C10.5391 71.6709 10.1555 71.2757 9.78602 70.8955C9.34017 70.4355 8.91478 69.9961 8.76845 69.4765C8.73922 69.3717 8.83613 69.1543 8.9579 68.8828C9.04443 68.6909 9.14229 68.4693 9.21669 68.2412C8.8603 67.6944 8.50972 67.1398 8.16981 66.5859C8.13471 66.5815 8.09879 66.5767 8.06239 66.5722H8.06044C7.2326 66.4643 6.09859 66.3147 5.98036 65.164C5.94807 64.8679 6.06475 64.5963 6.16981 64.3525C6.27302 64.1131 6.36614 63.8997 6.29872 63.7177C6.21879 63.5062 5.96805 63.3577 5.69716 63.1982C5.32034 62.98 4.88377 62.7103 4.83192 62.2304C4.8285 62.1979 4.82403 62.1604 4.81923 62.123C4.7698 61.7614 4.71485 61.2542 4.83681 60.6035C4.6173 60.1691 4.39013 59.7143 4.17958 59.2783C3.76946 58.435 3.37845 57.5968 2.99599 56.7461C2.01601 54.5617 1.09665 52.3364 0.260633 49.9511C-0.144465 48.7866 -0.0888938 47.3938 0.50868 46.1494C1.09569 44.8977 2.243 43.9899 3.53993 43.9101C4.83324 43.8108 6.05288 43.6485 7.14931 43.8466C8.24262 44.0403 9.13279 44.5807 9.68837 45.4033C10.5954 46.7525 11.6107 48.1354 12.6493 49.5302C12.7169 49.5946 12.785 49.6605 12.8515 49.7275C13.345 50.2235 13.9725 50.5753 14.6102 50.9375C14.7541 51.0163 14.8995 51.0965 15.0438 51.1796C15.3947 51.3869 15.7099 51.7011 16.0165 52.1054C16.6595 52.9469 17.1977 54.0957 17.5497 54.8349C17.5593 54.8545 17.5693 54.8739 17.579 54.8935C17.7026 55.1522 17.8382 55.3827 17.997 55.6513C18.3825 56.3017 18.8934 57.1677 19.7186 59.1728C20.066 59.6833 20.4113 60.2017 20.7509 60.7226C24.4189 66.341 27.7657 72.2351 31.1005 78.0908C31.1513 78.1579 31.203 78.2257 31.2548 78.2939C31.5158 78.6381 31.791 79.0038 32.0683 79.374C32.4901 78.2134 32.9003 77.0254 33.3017 75.83C33.5138 75.2001 33.7382 74.5155 33.9442 73.8769C34.4623 72.2663 34.9588 70.6321 35.4179 69.0146C35.8428 67.5174 36.2508 66.0072 36.6395 64.5C36.7584 63.5861 36.8374 62.7182 36.914 61.9033C37.0191 60.7673 37.1161 59.7444 37.2811 58.9394C37.6847 56.9794 38.5211 54.8692 39.1425 53.2998C39.2439 53.0435 39.3393 52.8009 39.4267 52.5761C39.7081 51.2707 39.9839 49.9623 40.2577 48.6543C40.3315 48.5826 40.4085 48.5103 40.4862 48.4375C41.4564 47.5291 41.828 46.1803 42.4149 44.0576C42.6701 43.1346 42.9681 42.06 43.371 40.8173C43.6321 40.0115 44.0116 39.6711 44.3212 39.3925C44.4121 39.311 44.4976 39.2326 44.5722 39.1503C44.8273 38.8686 44.7493 38.4743 44.6561 38.0107C44.5341 37.4132 44.3917 36.6813 44.9188 35.9336C46.6037 33.5332 46.2988 32.1975 46.0751 31.163C46.0085 30.8631 45.948 30.5927 45.9452 30.3339C45.9404 29.4798 46.4787 28.4409 47.0302 27.6767C47.4628 27.0858 47.5955 25.6847 47.5761 24.5703C47.5668 24.1557 47.7102 23.6393 47.8817 23.0234C48.0429 22.4442 48.242 21.7331 48.3329 20.9961C48.3334 20.9932 48.3363 20.9843 48.3368 20.9814C48.3437 20.9308 48.3503 20.88 48.3563 20.8291C48.5962 18.7435 48.7544 17.6221 48.8788 16.7343C48.916 16.476 48.9501 16.2398 48.9823 16.0068C49.0907 15.2485 49.2716 14.3325 49.4647 13.3964C49.6949 12.278 49.9426 11.1354 50.0868 10.2236C51.0095 8.05374 51.9321 5.89908 53.495 3.36715C54.2435 2.1554 55.5875 1.1897 56.7509 1.08785C56.8131 0.98894 57.0653 0.749745 57.1405 0.660115C57.3101 0.598945 57.485 0.542648 57.6933 0.473591C58.0191 0.37065 58.3821 0.248352 58.9647 0.122029ZM29.8085 84.7539C29.7181 84.8378 29.6505 84.91 29.6054 84.9629C29.3579 85.2619 29.3883 85.3156 29.4247 85.2949C29.4702 85.2699 29.5623 85.1521 29.6552 85.0097C29.7057 84.9304 29.7565 84.8445 29.8085 84.7539Z" />
        </svg>
      </div>
    </div>;
};
export default SafetyRules;